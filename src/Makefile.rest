# written by jxzou at 20200322
# updated by jxzou at 20200515: delete 'install', add $(BIN)
# updated by jxzou at 20221008: delete F2_MKL_FLAGS

BIN = ../bin
LIB = ../mokit/lib

# --- gfortran + OpenBLAS ---
F90    = gfortran
FFLAGS = -O2 -cpp -fPIC
MKL_FLAGS = -L$(HOME)/software/openblas-0.3.21/lib64 -lopenblas
F2PY   = f2py
F2_FLAGS =
F2_F90_FLAGS = --f90flags="-cpp"

include Makefile.main

rest2fch: $(OBJ_py2fch)
	$(F90) -shared $(FFLAGS) -o librest2fch.so  $(OBJ_py2fch)
	@mv librest2fch.so $(LIB)/
